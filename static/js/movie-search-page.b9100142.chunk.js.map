{"version":3,"sources":["services/moviesApi.js","images/default_movie.png","components/MovieGallery/MovieGallery.module.css","components/MovieGalleryItem/MovieGalleryItem.module.css","components/MovieGalleryItem/MovieGalleryItem.js","components/MovieGallery/MovieGallery.js","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","views/MoviesSearchPage/MoviesSearchPage.js"],"names":["API_KEY","BASE_URL","getPopularMovie","time","page","axios","get","then","response","data","results","catch","error","searchRequestMovie","query","getMovieDetails","movieId","getMovieReviews","getMovieCast","cast","module","exports","MovieGalleryItem","movie","location","useLocation","original_title","poster_path","poster","poster_default","className","s","item","link","to","pathname","id","state","from","label","src","alt","width","image","titleWrap","title","MovieGallery","movies","list","map","Searchbar","onSubmitForm","useState","searchQuery","setSearchQuery","handleSearchChange","useCallback","e","currentTarget","value","toLowerCase","handleSearchSubmit","preventDefault","trim","toast","info","theme","searchbar","form","onSubmit","type","button","onClick","input","autoComplete","autoFocus","placeholder","onChange","MoviesSearchPage","setQuery","setMovies","history","useHistory","useEffect","search","newSearch","URLSearchParams","getMovies","length","getSearchValue","push","autoClose"],"mappings":"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","file":"static/js/movie-search-page.b9100142.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '1d492e008148c42709362e98500fe1a3';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\n// https://api.themoviedb.org/3/movie/76341?api_key=<<api_key>>\n\nexport function getPopularMovie(time = 'week', page = 1) {\n  return axios\n    .get(`${BASE_URL}trending/movie/${time}?api_key=${API_KEY}&page=${page}`)\n    .then(response => response.data.results)\n    .catch(error => error);\n}\n\nexport function searchRequestMovie(query, page = 1) {\n  return axios\n    .get(\n      `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&page=${page}&query=${query}&include_adult=false`,\n    )\n    .then(response => response.data.results)\n    .catch(error => error);\n}\n\nexport function getMovieDetails(movieId) {\n  return axios\n    .get(`${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`)\n    .then(response => response.data)\n    .catch(error => error);\n}\n\nexport function getMovieReviews(movieId) {\n  return axios\n    .get(\n      `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`,\n    )\n    .then(response => response.data.results)\n    .catch(error => error);\n}\n\nexport function getMovieCast(movieId) {\n  return axios\n    .get(\n      `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`,\n    )\n    .then(response => response.data.cast)\n    .catch(error => error);\n}\n","export default \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"MovieGallery_list__298P6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"MovieGalleryItem_link__2yIKl\",\"item\":\"MovieGalleryItem_item__34vdF\",\"title\":\"MovieGalleryItem_title__Adss0\",\"titleWrap\":\"MovieGalleryItem_titleWrap__3by4z\"};","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport s from './MovieGalleryItem.module.css';\nimport poster_default from '../../images/default_movie.png';\n\nexport default function MovieGalleryItem({ movie }) {\n  const location = useLocation();\n  const { original_title, poster_path } = movie;\n\n  let poster = poster_path\n    ? `https://image.tmdb.org/t/p/w300${poster_path}`\n    : poster_default;\n\n  return (\n    <li className={s.item}>\n      <Link\n        className={s.link}\n        to={{\n          pathname: `movies/${movie.id}`,\n          state: { from: location, label: 'BACK TO HOME' },\n        }}\n      >\n        <img\n          src={poster}\n          alt={original_title}\n          width=\"300\"\n          className={s.image}\n        />\n        <div className={s.titleWrap}>\n          <h3 className={s.title}>{original_title}</h3>\n        </div>\n      </Link>\n    </li>\n  );\n}\n","import React from 'react';\nimport s from './MovieGallery.module.css';\nimport MovieGalleryItem from '../MovieGalleryItem';\n\nexport default function MovieGallery({ movies }) {\n  return (\n    <ul className={s.list}>\n      {movies.map(item => (\n        <MovieGalleryItem movie={item} key={item.id} />\n      ))}\n    </ul>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"form\":\"Searchbar_form__XuKjc\",\"button\":\"Searchbar_button__MhnaU\",\"button-label\":\"Searchbar_button-label__14f0Y\",\"input\":\"Searchbar_input__2C4aO\"};","import React, { useState, useCallback } from 'react';\nimport s from './Searchbar.module.css';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction Searchbar({ onSubmitForm }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleSearchChange = useCallback(e => {\n    setSearchQuery(e.currentTarget.value.toLowerCase());\n  }, []);\n\n  const handleSearchSubmit = useCallback(\n    e => {\n      e.preventDefault();\n      if (searchQuery.trim() === '') {\n        return toast.info('Enter your request', {\n          theme: 'dark',\n        });\n      }\n      onSubmitForm(searchQuery);\n      setSearchQuery('');\n    },\n    [searchQuery, onSubmitForm],\n  );\n\n  return (\n    <>\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={handleSearchSubmit}>\n          <button\n            type=\"submit\"\n            className={s.button}\n            onClick={handleSearchSubmit}\n          ></button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search\"\n            value={searchQuery}\n            onChange={handleSearchChange}\n          />\n        </form>\n      </header>\n    </>\n  );\n}\n\nexport default Searchbar;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { searchRequestMovie } from '../../services/moviesApi';\nimport Searchbar from '../../components/Searchbar';\nimport MovieGallery from '../../components/MovieGallery';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst MoviesSearchPage = () => {\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState(null);\n  const history = useHistory();\n  const location = useLocation();\n\n  useEffect(() => {\n    if (location.search === '') {\n      return;\n    }\n    const newSearch = new URLSearchParams(location.search).get('query');\n    setQuery(newSearch);\n  }, [location.search]);\n\n  useEffect(() => {\n    query && getMovies();\n  }, [query]);\n\n  const getMovies = () => {\n    searchRequestMovie(query)\n      .then(results => {\n        if (results.length === 0) {\n          toast.error(`No movies for your request ${query}`);\n          return;\n        }\n        setMovies(results);\n      })\n      .catch(error => error);\n  };\n\n  const getSearchValue = useCallback(\n    query => {\n      setQuery(query);\n      // setMovies([]);\n      history.push({ ...location, search: `query=${query}` });\n    },\n    [history, location],\n  );\n\n  return (\n    <>\n      <Searchbar onSubmitForm={getSearchValue} />\n      {movies && <MovieGallery movies={movies} />}\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n};\n\nexport default MoviesSearchPage;\n"],"sourceRoot":""}