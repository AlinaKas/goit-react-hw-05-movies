(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{13:function(e,t,n){e.exports={link:"Navigation_link__12o2K",activeLink:"Navigation_activeLink__2rUFB Navigation_link__12o2K"}},14:function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__jo466",form:"Searchbar_form__XuKjc",button:"Searchbar_button__MhnaU","button-label":"Searchbar_button-label__14f0Y",input:"Searchbar_input__2C4aO"}},24:function(e,t,n){e.exports={error:"MoviesSearchPage_error__1c8ZY",defaultImage:"MoviesSearchPage_defaultImage__2mrzX"}},36:function(e,t){},37:function(e,t,n){e.exports={container:"Container_container__3RIox"}},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){e.exports={title:"PageHeading_title__1ffyz"}},48:function(e,t,n){},49:function(e,t,n){e.exports={App:"App_App__16ZpL",list:"App_list__275a3",link:"App_link__TB6Cl",defaultImage:"App_defaultImage__3uWI8"}},93:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(17),i=n.n(r),o=(n(48),n(2)),s=(n(49),n(37)),u=n.n(s),j=n(1),l=function(e){var t=e.children;return Object(j.jsx)("div",{className:u.a.container,children:t})},b=n(10),h=n(13),f=n.n(h);var d=function(){return Object(j.jsxs)("nav",{children:[Object(j.jsx)(b.c,{exact:!0,to:"/",className:f.a.link,activeClassName:f.a.activeLink,children:"Home"}),Object(j.jsx)(b.c,{to:"/movies",className:f.a.link,activeClassName:f.a.activeLink,children:"Movies"})]})};var O=function(){return Object(j.jsx)("header",{children:Object(j.jsx)(d,{})})},m=n(9),v=n(40),x=n.n(v);function _(e){var t=e.movie,n=Object(o.f)().url;return Object(j.jsx)("li",{className:x.a.item,children:Object(j.jsx)(b.b,{to:"/".concat(n,"/").concat(t.id),children:t.title})})}var p=n(41),g=n.n(p);function S(e){var t=e.movies;return Object(j.jsx)("ul",{className:g.a.list,children:t.map((function(e){return Object(j.jsx)(_,{movie:e},e.id)}))})}var N=n(23),k=n.n(N),y="1d492e008148c42709362e98500fe1a3",C="https://api.themoviedb.org/3/";var F=n(42),I=n.n(F),w=function(e){var t=e.text;return Object(j.jsx)("h1",{className:I.a.title,children:t})},A=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"week",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return k.a.get("".concat(C,"trending/movie/").concat(e,"?api_key=").concat(y,"&page=").concat(t)).then((function(e){return e.data.results})).catch((function(e){return e}))})().then((function(e){a(e)}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(w,{text:"Popular Movies"}),n&&Object(j.jsx)(S,{movies:n})]})},L=n(25),M=n(24),B=n.n(M),E=n(43),P=n.n(E),q=(n(92),function(){return Object(j.jsx)("div",{children:Object(j.jsx)(P.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})}),K=n.p+"static/media/default-error.6ddcc1dc.png",T=n(14),U=n.n(T),z=n(19);n(35);var D=function(e){var t=e.onSubmitForm,n=Object(c.useState)(""),a=Object(m.a)(n,2),r=a[0],i=a[1],o=function(e){if(e.preventDefault(),""===r.trim())return z.b.info("Enter your request",{theme:"dark"});t(r),i("")};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("header",{className:U.a.searchbar,children:Object(j.jsxs)("form",{className:U.a.form,onSubmit:o,children:[Object(j.jsx)("button",{type:"submit",className:U.a.button,onClick:o}),Object(j.jsx)("input",{className:U.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search",value:r,onChange:function(e){i(e.currentTarget.value.toLowerCase())}})]})})})},H=function(){var e=Object(c.useState)(""),t=Object(m.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(m.a)(r,2),o=i[0],s=i[1],u=Object(c.useState)(null),l=Object(m.a)(u,2),b=l[0],h=l[1],f=Object(c.useState)([]),d=Object(m.a)(f,2),O=d[0],v=d[1],x=Object(c.useState)(1),_=Object(m.a)(x,2),p=_[0],g=_[1];Object(c.useEffect)((function(){""!==n&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return k.a.get("".concat(C,"search/movie?api_key=").concat(y,"&language=en-US&page=").concat(t,"&query=").concat(e,"&include_adult=false")).then((function(e){return e.data.results})).catch((function(e){return e}))}(n).then((function(e){if(0===e.length)return h("No movies for your request ".concat(n));v([].concat(Object(L.a)(O),Object(L.a)(e))),g(p)})).catch((function(e){return h(e)})).finally((function(){return s(!1)}))}),[n,p]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(D,{onSubmitForm:function(e){a(e),v([]),g(1),h(null),s(!0)}}),o&&Object(j.jsx)(q,{}),O.length>0&&!b&&Object(j.jsx)(S,{movies:O}),b&&Object(j.jsx)("p",{className:B.a.error,children:b}),b&&Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:K,alt:"error",className:B.a.defaultImage})}),Object(j.jsx)(z.a,{autoClose:3e3})]})};n(36);var J=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(l,{children:[Object(j.jsx)(O,{}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/",exact:!0,children:Object(j.jsx)(A,{})}),Object(j.jsx)(o.a,{path:"/movies",exact:!0,children:Object(j.jsx)(H,{})})]})]})})};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(b.a,{children:Object(j.jsx)(J,{})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.1d0c26f4.chunk.js.map