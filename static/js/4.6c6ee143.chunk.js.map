{"version":3,"sources":["components/Searchbar/Searchbar.js","views/MoviesSearchPage/MoviesSearchPage.js","services/moviesApi.js","images/default_error.png","components/MovieGalleryItem/MovieGalleryItem.module.css","components/MovieGallery/MovieGallery.module.css","images/default_avatar.jpeg","components/MovieGalleryItem/MovieGalleryItem.js","components/MovieGallery/MovieGallery.js","components/Searchbar/Searchbar.module.css","views/MoviesSearchPage/MoviesSearchPage.module.css"],"names":["Searchbar","onSubmitForm","useState","searchQuery","setSearchQuery","handleSearchChange","useCallback","e","currentTarget","value","toLowerCase","handleSearchSubmit","preventDefault","trim","toast","info","theme","className","s","searchbar","form","onSubmit","type","button","onClick","input","autoComplete","autoFocus","placeholder","onChange","MoviesSearchPage","query","setQuery","movies","setMovies","history","useHistory","location","useLocation","useRouteMatch","url","useEffect","search","newSearch","URLSearchParams","get","getMovies","requestMovieSearch","then","results","length","error","getSearchValue","push","MovieGallery","autoClose","API_KEY","BASE_URL","popularMovieGet","time","page","axios","response","data","catch","movieDetailsGet","movieId","movieReviewsGet","movieCastGet","cast","module","exports","MovieGalleryItem","movie","original_title","poster_path","poster","poster_default","item","link","exact","to","pathname","id","state","from","label","src","alt","width","image","titleWrap","title","list","map"],"mappings":"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","file":"static/js/4.6c6ee143.chunk.js","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport s from './Searchbar.module.css';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction Searchbar({ onSubmitForm }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleSearchChange = useCallback(e => {\n    setSearchQuery(e.currentTarget.value.toLowerCase());\n  }, []);\n\n  const handleSearchSubmit = useCallback(\n    e => {\n      e.preventDefault();\n      if (searchQuery.trim() === '') {\n        return toast.info('Enter your request', {\n          theme: 'dark',\n        });\n      }\n      onSubmitForm(searchQuery);\n      setSearchQuery('');\n    },\n    [searchQuery, onSubmitForm],\n  );\n\n  return (\n    <>\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={handleSearchSubmit}>\n          <button\n            type=\"submit\"\n            className={s.button}\n            onClick={handleSearchSubmit}\n          ></button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search\"\n            value={searchQuery}\n            onChange={handleSearchChange}\n          />\n        </form>\n      </header>\n    </>\n  );\n}\n\nexport default Searchbar;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useHistory, useLocation, useRouteMatch } from 'react-router-dom';\n\nimport { requestMovieSearch } from '../../services/moviesApi';\n\nimport Searchbar from '../../components/Searchbar';\nimport MovieGallery from '../../components/MovieGallery';\nimport s from './MoviesSearchPage.module.css';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport default_avatar from '../../images/default_avatar.jpeg';\n\nconst MoviesSearchPage = () => {\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState(null);\n  const history = useHistory();\n  const location = useLocation();\n\n  const { url } = useRouteMatch();\n\n  useEffect(() => {\n    if (location.search === '') {\n      return;\n    }\n    const newSearch = new URLSearchParams(location.search).get('query');\n    setQuery(newSearch);\n  }, [location.search]);\n\n  useEffect(() => {\n    query && getMovies();\n  }, [query]);\n\n  const getMovies = () => {\n    requestMovieSearch(query).then(results => {\n      if (results.length === 0) {\n        toast.error(`No movies for your request ${query}`);\n        return;\n      }\n      setMovies(results);\n    });\n  };\n\n  const getSearchValue = useCallback(\n    query => {\n      setQuery(query);\n      setMovies([]);\n      history.push({ ...location, search: `query=${query}` });\n    },\n    [history, location],\n  );\n\n  return (\n    <>\n      <Searchbar onSubmitForm={getSearchValue} />\n      {movies && <MovieGallery movies={movies} />}\n      {/* {error && <p className={s.error}>{error}</p>} */}\n      {/* {error && (\n        <div>\n          <img src={defaultImage} alt=\"error\" className={s.defaultImage} />\n        </div>\n      )} */}\n      <ToastContainer autoClose={3000} />\n    </>\n  );\n};\n\nexport default MoviesSearchPage;\n","import axios from 'axios';\n\nconst API_KEY = '1d492e008148c42709362e98500fe1a3';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\n// https://api.themoviedb.org/3/movie/76341?api_key=<<api_key>>\n\nexport function popularMovieGet(time = 'week', page = 1) {\n  return axios\n    .get(`${BASE_URL}trending/movie/${time}?api_key=${API_KEY}&page=${page}`)\n    .then(response => response.data.results)\n    .catch(error => error);\n}\n\nexport function requestMovieSearch(query, page = 1) {\n  return axios\n    .get(\n      `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&page=${page}&query=${query}&include_adult=false`,\n    )\n    .then(response => response.data.results)\n    .catch(error => error);\n}\n\nexport function movieDetailsGet(movieId) {\n  return axios\n    .get(`${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`)\n    .then(response => response.data)\n    .catch(error => error);\n}\n\nexport function movieReviewsGet(movieId) {\n  return axios\n    .get(\n      `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`,\n    )\n    .then(response => response.data.results)\n    .catch(error => error);\n}\n\nexport function movieCastGet(movieId) {\n  return axios\n    .get(\n      `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`,\n    )\n    .then(response => response.data.cast)\n    .catch(error => error);\n}\n","export default __webpack_public_path__ + \"static/media/default_error.6ddcc1dc.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"MovieGalleryItem_link__2yIKl\",\"item\":\"MovieGalleryItem_item__34vdF\",\"title\":\"MovieGalleryItem_title__Adss0\",\"titleWrap\":\"MovieGalleryItem_titleWrap__3by4z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"MovieGallery_list__298P6\"};","export default \"data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAeAAD/4QMsaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpEMzI1QUNGMUY1QTgxMUVCQjk3OENEOTBFQkMyQjk2NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpEMzI1QUNGMkY1QTgxMUVCQjk3OENEOTBFQkMyQjk2NSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQzMjVBQ0VGRjVBODExRUJCOTc4Q0Q5MEVCQzJCOTY1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQzMjVBQ0YwRjVBODExRUJCOTc4Q0Q5MEVCQzJCOTY1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQAEAsLCwwLEAwMEBcPDQ8XGxQQEBQbHxcXFxcXHx4XGhoaGhceHiMlJyUjHi8vMzMvL0BAQEBAQEBAQEBAQEBAQAERDw8RExEVEhIVFBEUERQaFBYWFBomGhocGhomMCMeHh4eIzArLicnJy4rNTUwMDU1QEA/QEBAQEBAQEBAQEBA/8AAEQgBLADIAwEiAAIRAQMRAf/EAHEAAQADAQEBAAAAAAAAAAAAAAABBAUDAgYBAQEAAAAAAAAAAAAAAAAAAAABEAEAAgEDAgQDBgUFAQAAAAAAAQIDEVEEITFBcRIy0SJSYYGhwUITkbHhggViM1MUNBURAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/APswBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAeb5KUjW9or5y425vHjtM28o+ILAq/wD0MX02/D4pjnYJ7+qPOPgosjxTNiyey8TO3i9oAAAAAAAAAAAAAAAAAOPI5FcNd7z7ag95MtMVfVedI8N5UcvOyX6Y/kr+LhkyXyW9V51l5UTMzM6zOs7ygBAAB3xcvNj6a+qu1vi4ArVw8jHmj5elvGs93VjRMxMTE6THaYX+Ly/3PkydL+E/V/UFoBAAAAAAAAAAAAB4y5a4qTe3h2jeWVe9sl5vadZl25mb9zL6Y9tOkefirqAAgAAAAAAdusdwBp8XkfvU0t769/t+13ZGLJOLJF48O8bw1omLRFo6xPWBUgIAAAAAAAADnyMn7eG1/HTSPOXRT/yF+lKb6zP3KKIAgAAAAAAAAAA0OBk9WKaT3pPTylnrHBv6c8R4WiY/MVpAIAAAAAAAADO58654jasNFm83/wBFvKP5KK4AgAAAAAAAAAA6YJ9Oak/6oc3qnvr5x/MVsAIAAAAAAAADO58aZ9d6w0VP/IU6UvtrWf5qKIAgAAAAAAAAAA94Y9Wakb2h4WOFT1Z4nwrEz+QrSAQAAAAAAAAHLkY/3MNqx37x5w6gMUd+Zh/by6x7b9Y8/GHBQAEAAAAAAAAGhwMfpxzee956eUKWLHOXJFI8e87Q1q1itYrHSIjSBUgIAAAAAAAAAAOebFXNjmk/dO0su9LUtNLRpMd2w48jj1zV2vHa35Soyx6vS2O01vGkw8iAAAAAAAmImZ0jrM+C/wAXiejTJk9/hXb+or1xOP8AtU9Vvfbv9kbLAIAAAAAAAAAAAAAAPGXDjy19N412nxhQy8LLTrT56/Z3/g0hRi/YNfJTDf8A3IrP2z3V7cbh/X6f7o/MFAXP+rxf+f8AGHqvF4njk9X90QCi7YuLmy9Yj01+qekL+PDx69aRXXfvLqDjg42PD1j5r/VP5OwIAAAAAAAAAAAImYiNZnSI7zIJFXLzqV6Y49c79oVMnIzZfdbptHSFGhk5ODH7rRM7R1lXv/kI/RT77T8FIB3tzeRb9Xp8oc7Zclvde0/fLwAACAAD1XJkr7bTHlMvIDvXmciv6vV5xq7U/wAhP66ffWfipArUpy8F+kW0na3R2YrpjzZcXstMRt4fwBrCni59Z6ZY9M/VHb+C3W1bR6qzExPjCCQAAAAUuTze9MM+d/gDtn5WPD091/pjw81DLnyZZ1vPTwrHaHMUABAAAAAAAAAAAAAAB7x5cmKdaTpvHhLwA0cHMpk0rf5L/hKyxVvjcyaaUy9aeFvGBV8RExMax1ie0iCjy+V69ceOfl/VbdUBQAEAAAAAAAAAAAAAAAAAAAAWOLyZxT6L9cc/gK4KACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANnSNjSNkiKjSNjSNkgI0jY0jZICNI2NI2SAjSNjSNkgI0jY0jZICNI2NI2SAjSNjSNkgI0jY0jZICNI2NI2SAjSNjSNkgI0jY0jZICNI2EgAAAAAAAAAAAAAAAAAAAAAAAAAAP/Z\"","import React from 'react';\nimport { Link, useRouteMatch, useLocation } from 'react-router-dom';\nimport s from './MovieGalleryItem.module.css';\nimport poster_default from '../../images/default_error.png';\n\nexport default function MovieGalleryItem({ movie }) {\n  const location = useLocation();\n  // const { url } = useRouteMatch();\n  const { original_title, poster_path } = movie;\n\n  let poster = poster_path\n    ? `https://image.tmdb.org/t/p/w300${poster_path}`\n    : poster_default;\n\n  return (\n    <li className={s.item}>\n      <Link\n        className={s.link}\n        exact\n        to={{\n          pathname: `/movies/${movie.id}`,\n          state: { from: location, label: 'Back to search' },\n        }}\n      >\n        <img\n          src={poster}\n          alt={original_title}\n          width=\"300\"\n          className={s.image}\n        />\n        <div className={s.titleWrap}>\n          <h3 className={s.title}>{original_title}</h3>\n        </div>\n      </Link>\n    </li>\n  );\n}\n","import React from 'react';\nimport MovieGalleryItem from '../MovieGalleryItem';\nimport s from './MovieGallery.module.css';\n\nexport default function MovieGallery({ movies }) {\n  return (\n    <ul className={s.list}>\n      {movies.map(item => (\n        <MovieGalleryItem movie={item} key={item.id} />\n      ))}\n    </ul>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"form\":\"Searchbar_form__XuKjc\",\"button\":\"Searchbar_button__MhnaU\",\"button-label\":\"Searchbar_button-label__14f0Y\",\"input\":\"Searchbar_input__2C4aO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"MoviesSearchPage_error__1c8ZY\",\"defaultImage\":\"MoviesSearchPage_defaultImage__2mrzX\"};"],"sourceRoot":""}